(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{285:(e,t,a)=>{"use strict";a.d(t,{$:()=>c});var s=a(5155),r=a(2115),i=a(9708),o=a(2085),n=a(9434);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:o,asChild:c=!1,...d}=e,u=c?i.DX:"button";return(0,s.jsx)(u,{className:(0,n.cn)(l({variant:r,size:o,className:a})),ref:t,...d})});c.displayName="Button"},633:(e,t,a)=>{"use strict";a.d(t,{h:()=>r});var s=a(5155);a(2115);let r=e=>{let{size:t,axis:a,...r}=e,i="vertical"===a?"1px":t,o="horizontal"===a?"1px":t;return(0,s.jsx)("span",{style:{display:"block",width:i,minWidth:i,height:o,minHeight:o},...r})}},3960:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var s=a(5155),r=a(2115),i=a(5695);let o={src:"/_next/static/media/NeuroAccess_logo.ad9d1157.png"};var n=a(9434);let l=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});l.displayName="Input";var c=a(285),d=a(7481),u=a(633);function f(){return(0,s.jsx)("div",{className:"flex justify-center my-10",children:(0,s.jsx)("div",{className:"h-1 w-4/5 bg-white rounded-full"})})}var m=a(7313);function g(){let e=(0,i.useRouter)(),[t,a]=(0,r.useState)(null),{toast:n}=(0,d.dj)(),[g,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{localStorage.setItem("uploadedImage",JSON.stringify(t))},[t]);let h=(0,r.useCallback)(e=>{if(!e.target.files)return;let t=e.target.files[0];if(!t)return;let s=new FileReader;s.onload=e=>{var t;(null===(t=e.target)||void 0===t?void 0:t.result)&&a(e.target.result.toString())},s.readAsDataURL(t)},[]),b=async()=>{if(!t){n({title:"No images uploaded",description:"Please upload at least one image to enable the chatbot."});return}try{let a=await fetch(t),s=await a.blob(),r=new FormData;r.append("file",s,"mri_scan.jpg"),e.push("/loading");let i=await fetch("http://localhost:5000/analyze_mri",{method:"POST",body:r});if(!i.ok)throw Error("HTTP error! status: ".concat(i.status));let o=await i.json();if(o.error)throw Error(o.error);localStorage.setItem("analysisResult",JSON.stringify(o)),localStorage.setItem("currentTimestamp",o.timestamp),localStorage.removeItem("selectedHistoryItem"),e.push("/chat")}catch(t){console.error("Error:",t),n({title:"Error analyzing image",description:t instanceof Error?t.message:"Unknown error occurred",variant:"destructive"}),e.push("/")}};return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-start min-h-screen bg-background text-foreground p-8 relative",children:[(0,s.jsx)(m.tU,{defaultValue:"upload",children:(0,s.jsxs)(m.j7,{children:[(0,s.jsx)(m.Xi,{value:"upload",className:"text-black data-[state=active]:bg-black data-[state=active]:text-white",children:"Upload Images"}),(0,s.jsx)(m.Xi,{value:"chat",onClick:()=>e.push("/chat"),className:"text-black data-[state=active]:bg-black data-[state=active]:text-white",children:"Query"}),(0,s.jsx)(m.Xi,{value:"history",onClick:()=>e.push("/history"),className:"text-black data-[state=active]:bg-black data-[state=active]:text-white",children:"History"})]})}),(0,s.jsx)(u.h,{axis:"vertical",size:50}),(0,s.jsx)("img",{src:o.src,alt:"Logo",className:"mb-6",style:{width:"180px",height:"130px"}}),(0,s.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Synaptiq"}),(0,s.jsx)("p",{className:"text-lg mb-8",children:"Neuro-oncology unlocked for anyone, everyone."}),(0,s.jsxs)(m.tU,{defaultValue:"upload",className:"w-full max-w-2xl mb-8",children:[(0,s.jsx)(f,{}),(0,s.jsx)(u.h,{axis:"vertical",size:20}),(0,s.jsx)(u.h,{axis:"vertical",size:20}),(0,s.jsx)("p",{className:"text-lg mb-8",children:"Upload MRI scans to interact with the AI-powered chatbot"}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)(l,{type:"file",accept:"image/*",onChange:h,className:"mb-4"}),t&&(0,s.jsx)("div",{className:"flex flex-wrap gap-4",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:t,alt:"Uploaded Image",className:"w-32 h-32 object-cover rounded-md shadow-md"}),(0,s.jsx)(c.$,{onClick:()=>{a(null)},variant:"ghost",className:"absolute top-0 right-0 p-1 text-white rounded-full hover:bg-gray-600 focus-visible:ring-0 focus-visible:ring-offset-0 focus:outline-none","aria-label":"Delete Image",children:"X"})]})})]}),(0,s.jsx)(c.$,{onClick:b,disabled:g,className:"mb-8 bg-primary text-primary-foreground hover:bg-primary/80",children:g?"Processed":"Submit Images"})]})]})}},4276:(e,t,a)=>{Promise.resolve().then(a.bind(a,3960))},7313:(e,t,a)=>{"use strict";a.d(t,{Xi:()=>c,j7:()=>l,tU:()=>n});var s=a(5155),r=a(2115),i=a(9255),o=a(9434);let n=i.bL,l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.B8,{ref:t,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});l.displayName=i.B8.displayName;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.l9,{ref:t,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});c.displayName=i.l9.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.UC,{ref:t,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})}).displayName=i.UC.displayName},7481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>f});var s=a(2115);let r=0,i=new Map,o=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=n(c,e),l.forEach(e=>{e(c)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=s.useState(c);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var s=a(2596),r=a(9688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[256,230,441,684,358],()=>t(4276)),_N_E=e.O()}]);